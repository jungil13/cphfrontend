import{_ as m,k as f,c as n,a as t,F as g,l as _,e as i,t as a,b,w as P,m as u,r as w,o as c}from"./index-DTcQMwFa.js";const y={data(){return{pet:null,currentImage:"",isModalOpen:!1,isUserModalOpen:!1,isProfilePhotoModalOpen:!1,userDetails:{}}},async created(){const l=this.$route.params.id;await this.fetchPetDetails(l)},methods:{async fetchPetDetails(l){try{const s=await f.get(`http://localhost:3000/api/pets/pets/${l}`);this.pet=s.data,this.pet.PetPhoto=Array.isArray(s.data.PetPhoto)?s.data.PetPhoto:[s.data.PetPhoto].filter(Boolean),this.pet.VaccinationCertificate=Array.isArray(s.data.VaccinationCertificate)?s.data.VaccinationCertificate:[s.data.VaccinationCertificate].filter(Boolean)}catch(s){console.error("Error fetching the pet details:",s)}},getPetPhotoUrl(l){return l?`http://localhost:3000/${l}`:"/path/to/default/image.jpg"},getProfilePhotoUrl(l){return l?`http://localhost:3000/${l}`:"/path/to/default/profile.jpg"},openPhotoModal(l){this.currentImage=l,this.isModalOpen=!0},closePhotoModal(){this.isModalOpen=!1},async fetchUserDetails(l){const s=localStorage.getItem("token");try{const d=await f.get(`http://localhost:3000/api/users/${l}`,{headers:{Authorization:`Bearer ${s}`}});this.userDetails=d.data,this.isUserModalOpen=!0}catch(d){console.error("Error fetching user details:",d),alert("Failed to fetch user details. Ensure you are logged in.")}},closeUserModal(){this.isUserModalOpen=!1},openProfilePhotoModal(){this.isProfilePhotoModalOpen=!0},closeProfilePhotoModal(){this.isProfilePhotoModalOpen=!1}}},v={class:"mt-16"},k={key:0,class:"relative flex flex-col items-center justify-center text-center py-28"},M=t("h2",{class:"text-4xl text-gray-700 font-extrabold"},"Pet Images",-1),C={class:"mt-6 bg-white shadow-lg shadow-black rounded-lg p-6 w-full md:w-1/2 lg:w-1/3 mb-6 transform transition-transform duration-300 hover:scale-105"},D={class:"grid grid-cols-2 gap-4"},U=["src","onClick"],O=t("h2",{class:"text-4xl text-gray-700 font-extrabold"},"Vaccination Certificates",-1),j={class:"mt-6 bg-white shadow-lg shadow-black rounded-lg p-6 w-full md:w-1/2 lg:w-1/3 mb-6 transform transition-transform duration-300 hover:scale-105"},A={class:"grid grid-cols-2 gap-4"},V=["src","onClick"],B={class:"mt-12 mb-12 bg-white rounded-lg shadow-lg shadow-black mx-auto max-w-4xl p-8"},N=t("h2",{class:"text-center text-3xl font-extrabold text-gray-700"},"Pet Details",-1),S={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6"},I={class:"text-center md:text-left"},E={class:"text-xl font-bold mb-4"},F={class:"text-xl font-serif text-red-700"},z={class:"text-xl text-gray-800 font-bold"},T={class:"text-green-500"},L={class:"text-xl font-bold text-gray-800 mt-4 mb-12"},q={class:""},G={class:"px-2"},H={class:"text-lg font-bold"},J={class:"text-lg font-serif text-gray-600"},K={class:"text-lg font-bold"},Q={class:"text-lg font-serif text-gray-600"},R={class:"text-lg font-bold"},W={class:"text-lg font-serif text-gray-600"},X={class:"text-lg font-bold"},Y={class:"text-lg font-serif text-gray-600"},Z={class:"text-lg font-bold"},$={class:"text-lg font-serif text-gray-600"},tt={class:"text-lg font-bold"},et={class:"text-lg font-serif text-gray-600"},st={class:"mb-2 bg-white rounded-lg shadow-lg shadow-black mx-auto max-w-4xl p-8"},ot=t("h2",{class:"text-4xl text-gray-700 font-extrabold mb-4"},"Pet Description 🐾",-1),lt={class:"text-gray-800 text-lg leading-relaxed font-medium whitespace-pre-line"},rt={class:"relative flex flex-col items-center justify-center text-center pt-6 mb-6"},it={key:1,class:"text-center"},at=t("p",null,"Loading...",-1),nt=[at],ct={key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50"},dt={class:"bg-white rounded-lg p-6 relative max-w-lg w-full"},ht=["src"],ut={key:3,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},ft={class:"bg-white rounded-lg p-6 relative max-w-md w-full"},gt=t("h2",{class:"text-xl font-bold mb-4"},"Owner Details",-1),_t={class:"flex items-center mb-4"},pt=["src"],xt=t("strong",null,"Full Name:",-1),mt=t("strong",null,"Email:",-1),bt=t("strong",null,"Contact:",-1),Pt=t("strong",null,"Address:",-1),wt={key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50"},yt={class:"bg-white rounded-lg p-6 relative max-w-lg w-full"},vt=["src"];function kt(l,s,d,Mt,e,o){const p=w("router-link");return c(),n("div",v,[e.pet?(c(),n("div",k,[M,t("div",C,[t("div",D,[(c(!0),n(g,null,_(e.pet.PetPhoto,(r,h)=>(c(),n("div",{key:h,class:"w-full h-40 bg-gray-200 rounded-lg overflow-hidden"},[t("img",{src:o.getPetPhotoUrl(r),alt:"Pet photo",class:"object-cover w-full h-full cursor-pointer",onClick:x=>o.openPhotoModal(o.getPetPhotoUrl(r))},null,8,U)]))),128))])]),O,t("div",j,[t("div",A,[(c(!0),n(g,null,_(e.pet.VaccinationCertificate,(r,h)=>(c(),n("div",{key:h,class:"w-full h-40 bg-gray-200 rounded-lg overflow-hidden"},[t("img",{src:o.getPetPhotoUrl(r),alt:"Vaccination certificate",class:"object-cover w-full h-full cursor-pointer",onClick:x=>o.openPhotoModal(o.getPetPhotoUrl(r))},null,8,V)]))),128))])]),t("div",B,[N,t("div",S,[t("div",I,[t("p",E,[i("Pet Name: "),t("span",F,a(e.pet.PetName),1)]),t("p",z,[i("Pet Status: "),t("span",T,a(e.pet.Status?"Available":"Not Available"),1)]),t("p",L,[i("Current Owner: "),t("span",{class:"text-white p-4 py-1 rounded-full shadow text-md shadow-black cursor-pointer bg-teal-500",onClick:s[0]||(s[0]=r=>o.fetchUserDetails(e.pet.OwnerID))},a(e.pet.ownerFullName||"Unknown"),1)])]),t("div",q,[t("ul",G,[t("li",H,[i("Type: "),t("span",J,a(e.pet.Type),1)]),t("li",K,[i("Breed: "),t("span",Q,a(e.pet.Breed),1)]),t("li",R,[i("Species: "),t("span",W,a(e.pet.Species),1)]),t("li",X,[i("Markings: "),t("span",Y,a(e.pet.Markings),1)]),t("li",Z,[i("Sex: "),t("span",$,a(e.pet.Sex),1)]),t("li",tt,[i("Birthday: "),t("span",et,a(e.pet.Birth),1)])])])])]),t("div",st,[ot,t("p",lt,a(e.pet.Description),1)]),t("div",rt,[b(p,{to:"/questions",class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg shadow transform transition-transform duration-300 hover:scale-110 mt-4"},{default:P(()=>[i(" Apply to Adopt ")]),_:1})])])):(c(),n("div",it,nt)),e.isModalOpen?(c(),n("div",ct,[t("div",dt,[t("button",{onClick:s[1]||(s[1]=(...r)=>o.closePhotoModal&&o.closePhotoModal(...r)),class:"absolute top-2 right-2 bg-red-500 text-white py-2 px-4 rounded-full font-extrabold"},"Close"),t("img",{src:e.currentImage,alt:"Preview",class:"w-full h-auto max-h-[80vh] object-contain"},null,8,ht)])])):u("",!0),e.isUserModalOpen?(c(),n("div",ut,[t("div",ft,[t("button",{onClick:s[2]||(s[2]=(...r)=>o.closeUserModal&&o.closeUserModal(...r)),class:"absolute top-2 right-2 bg-red-500 text-white py-2 px-4 rounded-full font-extrabold"},"Close"),gt,t("div",_t,[t("img",{src:o.getProfilePhotoUrl(e.userDetails.ProfilePhoto),onClick:s[3]||(s[3]=(...r)=>o.openProfilePhotoModal&&o.openProfilePhotoModal(...r)),alt:"Profile Photo",class:"w-16 h-16 object-cover rounded-full border-2 border-gray-300 mr-4 cursor-pointer"},null,8,pt),t("div",null,[t("p",null,[xt,i(" "+a(e.userDetails.Fullname),1)]),t("p",null,[mt,i(" "+a(e.userDetails.Email),1)]),t("p",null,[bt,i(" "+a(e.userDetails.Contactnumber),1)]),t("p",null,[Pt,i(" "+a(e.userDetails.Address),1)])])])])])):u("",!0),e.isProfilePhotoModalOpen?(c(),n("div",wt,[t("div",yt,[t("button",{onClick:s[4]||(s[4]=(...r)=>o.closeProfilePhotoModal&&o.closeProfilePhotoModal(...r)),class:"absolute top-2 right-2 bg-red-500 text-white py-2 px-4 rounded-full font-extrabold"},"Close"),t("img",{src:o.getProfilePhotoUrl(e.userDetails.ProfilePhoto),alt:"Profile Photo Preview",class:"w-full h-auto max-h-[80vh] object-contain"},null,8,vt)])])):u("",!0)])}const Dt=m(y,[["render",kt]]);export{Dt as default};
