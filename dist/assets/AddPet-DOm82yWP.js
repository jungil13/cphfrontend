import{_ as g,S as u,k as v,c as n,a as e,F as b,l as h,m as f,i as x,g as a,h as c,v as y,d as P,o as d}from"./index-DTcQMwFa.js";const _={data(){return{petDetails:{type:"",name:"",species:"",breed:"",markings:"",sex:"",birth:"",description:""},petPhoto:[],petPhotoPreviews:[],vaccinationCertificate:[],vaccinationCertificatePreviews:[]}},methods:{handlePetPhotoUpload(s){const t=Array.from(s.target.files);if(t.length+this.petPhoto.length>4){u.fire({icon:"error",title:"Oops...",text:"You can only upload up to 4 pet photos."});return}this.petPhoto.push(...t.slice(0,4-this.petPhoto.length)),this.petPhotoPreviews=this.petPhoto.map(r=>URL.createObjectURL(r))},handleVaccinationUpload(s){const t=Array.from(s.target.files);if(t.length+this.vaccinationCertificate.length>4){u.fire({icon:"error",title:"Oops...",text:"You can only upload up to 4 vaccination certificates."});return}this.vaccinationCertificate.push(...t.slice(0,4-this.vaccinationCertificate.length)),this.vaccinationCertificatePreviews=this.vaccinationCertificate.map(r=>URL.createObjectURL(r))},removePetPhoto(s){this.petPhoto.splice(s,1),this.petPhotoPreviews.splice(s,1)},removeVaccinationCertificate(s){this.vaccinationCertificate.splice(s,1),this.vaccinationCertificatePreviews.splice(s,1)},async submitPetDetails(){if(this.petPhoto.length===0||this.vaccinationCertificate.length===0){u.fire({icon:"error",title:"Oops...",text:"Both pet photos and vaccination certificates are required."});return}const s=new FormData;Object.keys(this.petDetails).forEach(r=>s.append(r,this.petDetails[r])),this.petPhoto.forEach(r=>s.append("petPhoto",r)),this.vaccinationCertificate.forEach(r=>s.append("vaccinationCertificate",r));const t=localStorage.getItem("token");try{await v.post("http://localhost:3000/api/pets/pets",s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}}),u.fire({icon:"success",title:"Success!",text:"Pet added successfully."}),this.resetForm()}catch(r){console.error("There was an error uploading the pet details:",r.response?r.response.data:r),u.fire({icon:"error",title:"Error",text:"There was an error adding the pet."})}},resetForm(){this.petDetails={type:"",name:"",species:"",breed:"",markings:"",sex:"",birth:"",description:""},this.petPhoto=[],this.petPhotoPreviews=[],this.vaccinationCertificate=[],this.vaccinationCertificatePreviews=[]}}},w={class:"mt-16"},k={class:"container mx-auto py-28 px-4"},C={class:"mb-8"},D=e("h2",{class:"text-xl font-extrabold mb-4"},"Upload up to 4 Pet Photos",-1),U={class:"relative border-2 border-dashed border-gray-400 p-6 rounded-lg bg-gray-100 text-center"},V={key:0},q=["src"],S=["onClick"],A={class:"mb-8"},F=e("h2",{class:"text-xl font-extrabold mb-4"},"Fill up Pet Details",-1),B={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4"},j=e("label",{for:"type",class:"block text-gray-700 font-bold mb-2"},"Type:",-1),E=e("label",{for:"petName",class:"block text-gray-700 font-bold mb-2"},"Pet Name:",-1),M=e("label",{for:"species",class:"block text-gray-700 font-bold mb-2"},"Species:",-1),N=e("label",{for:"breed",class:"block text-gray-700 font-bold mb-2"},"Breed:",-1),O=e("label",{for:"markings",class:"block text-gray-700 font-bold mb-2"},"Markings:",-1),L=e("label",{for:"sex",class:"block text-gray-700 font-bold mb-2"},"Sex:",-1),T=e("option",{value:""},"Select",-1),R=e("option",{value:"Male"},"Male",-1),X=e("option",{value:"Female"},"Female",-1),Y=[T,R,X],z=e("label",{for:"birth",class:"block text-gray-700 font-bold mb-2"},"Birth:",-1),G={class:"mb-8"},I=e("h2",{class:"text-xl font-extrabold mb-4"},"Upload up to 4 Vaccination Certificates",-1),J={class:"relative border-2 border-dashed border-gray-400 p-6 rounded-lg bg-gray-100 text-center"},H={key:0},K=["src"],Q=["onClick"],W={class:"mb-8"},Z=e("h2",{class:"text-xl font-extrabold mb-4"},"Description",-1),$=e("button",{type:"submit",class:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-700 transition duration-300"},"Add this Pet",-1),ee=P('<footer class="bg-gray-800 text-white py-8 mt-4"><div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between"><div class="text-center md:text-left mb-4 md:mb-0"><h5 class="text-lg font-semibold">Pet Adoption</h5><p class="mt-2 text-sm">Contact us: <a href="mailto:info@petadoption.com" class="underline hover:text-gray-400">info@petadoption.com</a></p></div><div class="text-center md:text-right text-sm"><p>Â© 2024 Pet Adoption. All rights reserved.</p><p>Developed by: Jun Gil</p></div></div></footer>',1);function te(s,t,r,oe,i,l){return d(),n(b,null,[e("div",w,[e("div",k,[e("div",C,[D,e("div",U,[e("input",{type:"file",onChange:t[0]||(t[0]=(...o)=>l.handlePetPhotoUpload&&l.handlePetPhotoUpload(...o)),multiple:"",accept:"image/*",class:"mb-4"},null,32),i.petPhotoPreviews.length?(d(),n("div",V,[(d(!0),n(b,null,h(i.petPhotoPreviews,(o,p)=>(d(),n("div",{key:p,class:"inline-block relative"},[e("img",{src:o,alt:"Pet Photo Preview",class:"w-48 h-48 object-cover mx-2 border border-gray-300 rounded-lg"},null,8,q),e("button",{onClick:m=>l.removePetPhoto(p),class:"absolute top-0 right-0 bg-red-400 text-black font-bold rounded-full py-2 px-3 text-xs border border-black"},"X",8,S)]))),128))])):f("",!0)])]),e("div",A,[F,e("form",{onSubmit:t[10]||(t[10]=x((...o)=>l.submitPetDetails&&l.submitPetDetails(...o),["prevent"]))},[e("div",B,[e("div",null,[j,a(e("input",{type:"text",id:"type","onUpdate:modelValue":t[1]||(t[1]=o=>i.petDetails.type=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.type]])]),e("div",null,[E,a(e("input",{type:"text",id:"petName","onUpdate:modelValue":t[2]||(t[2]=o=>i.petDetails.name=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.name]])]),e("div",null,[M,a(e("input",{type:"text",id:"species","onUpdate:modelValue":t[3]||(t[3]=o=>i.petDetails.species=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.species]])]),e("div",null,[N,a(e("input",{type:"text",id:"breed","onUpdate:modelValue":t[4]||(t[4]=o=>i.petDetails.breed=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.breed]])]),e("div",null,[O,a(e("input",{type:"text",id:"markings","onUpdate:modelValue":t[5]||(t[5]=o=>i.petDetails.markings=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.markings]])]),e("div",null,[L,a(e("select",{id:"sex","onUpdate:modelValue":t[6]||(t[6]=o=>i.petDetails.sex=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},Y,512),[[y,i.petDetails.sex]])]),e("div",null,[z,a(e("input",{type:"date",id:"birth","onUpdate:modelValue":t[7]||(t[7]=o=>i.petDetails.birth=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,i.petDetails.birth]])])]),e("div",G,[I,e("div",J,[e("input",{type:"file",onChange:t[8]||(t[8]=(...o)=>l.handleVaccinationUpload&&l.handleVaccinationUpload(...o)),multiple:"",accept:"image/*",class:"mb-4"},null,32),i.vaccinationCertificatePreviews.length?(d(),n("div",H,[(d(!0),n(b,null,h(i.vaccinationCertificatePreviews,(o,p)=>(d(),n("div",{key:p,class:"inline-block relative"},[e("img",{src:o,alt:"Vaccination Certificate Preview",class:"w-48 h-48 object-cover mx-2 border border-gray-300 rounded-lg"},null,8,K),e("button",{onClick:m=>l.removeVaccinationCertificate(p),class:"absolute top-0 right-0 bg-red-400 text-black font-bold rounded-full py-2 px-3 text-xs border border-black"},"X",8,Q)]))),128))])):f("",!0)])]),e("div",W,[Z,a(e("textarea",{id:"description","onUpdate:modelValue":t[9]||(t[9]=o=>i.petDetails.description=o),class:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",rows:"5",placeholder:"Enter description here (required)",required:""},null,512),[[c,i.petDetails.description]])]),$],32)])])]),ee],64)}const se=g(_,[["render",te]]);export{se as default};
